<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Composite//EN" "ditabase.dtd">
<topic id="topic1" xml:lang="en">
  <title id="pw216155">Python Data Science Module Package</title>
  <body>
    <p>Greenplum Database provides a collection of data science-related Python modules that can be
      used with the Greenplum Database PL/Python language. You can download these modules in
        <codeph>.gppkg</codeph> format from <xref
        href="https://network.pivotal.io/products/pivotal-gpdb" format="html" scope="external"
        >Pivotal Network</xref>.</p>
    <p>This section contains the following information:</p>
    <ul>
      <li id="pw22228177">
        <xref href="#topic_pydatascimod" type="topic" format="dita"/>
      </li>
      <li id="pw22228178">
        <xref href="#topic_instpdsm" type="topic" format="dita"/>
      </li>
      <li id="pw22228179">
        <xref href="#topic_removepdsm" type="topic" format="dita"/>
      </li>
    </ul>
    <p>For information about the Greenplum Database PL/Python Language, see <xref scope="peer"
        type="topic" format="dita" href="../ref_guide/extensions/pl_python.xml#topic1">Greenplum
        PL/Python Language Extension</xref>.</p>
  </body>
  <topic id="topic_pydatascimod">
    <title>Python Data Science Modules</title>
    <body>
      <p>Modules provided in the Python Data Science package include: <table id="iq1395577">
          <title>Data Science Modules</title>
          <tgroup cols="2">
            <colspec colnum="1" colname="col1" colwidth="1*"/>
            <colspec colnum="2" colname="col2" colwidth="2*"/>
            <thead>
              <row>
                <entry colname="col1">Module Name</entry>
                <entry colname="col2">Description/Used For</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>atomicwrites</entry>
                <entry>Atomic file writes</entry>
              </row>
              <row>
                <entry>attrs</entry>
                <entry>Declarative approach for defining class attributes</entry>
              </row>
              <row>
                <entry>Autograd</entry>
                <entry>Gradient-based optimization</entry>
              </row>
              <row>
                <entry>backports.functools-lru-cache</entry>
                <entry>Backports <codeph>functools.lru_cache</codeph> from Python 3.3</entry>
              </row>
              <row>
                <entry colname="col1">Beautiful Soup</entry>
                <entry colname="col2">Navigating HTML and XML</entry>
              </row>
              <row>
                <entry>Blis</entry>
                <entry>Blis linear algebra routines</entry>
              </row>
              <row>
                <entry>Boto</entry>
                <entry>Amazon Web Services library</entry>
              </row>
              <row>
                <entry>Boto3</entry>
                <entry>The AWS SDK</entry>
              </row>
              <row>
                <entry>botocore</entry>
                <entry>Low-level, data-driven core of boto3</entry>
              </row>
              <row>
                <entry>Bottleneck</entry>
                <entry>Fast NumPy array functions</entry>
              </row>
              <row>
                <entry>Bz2file</entry>
                <entry>Read and write bzip2-compressed files</entry>
              </row>
              <row>
                <entry>Certifi</entry>
                <entry>Provides Mozilla CA bundle</entry>
              </row>
              <row>
                <entry>Chardet</entry>
                <entry>Universal encoding detector for Python 2 and 3</entry>
              </row>
              <row>
                <entry>ConfigParser</entry>
                <entry>Updated <codeph>configparser</codeph> module</entry>
              </row>
              <row>
                <entry>contextlib2</entry>
                <entry>Backports and enhancements for the <codeph>contextlib</codeph> module</entry>
              </row>
              <row>
                <entry>Cycler</entry>
                <entry>Composable style cycles</entry>
              </row>
              <row>
                <entry>cymem</entry>
                <entry>Manage calls to calloc/free through Cython</entry>
              </row>
              <row>
                <entry>Docutils</entry>
                <entry>Python documentation utilities</entry>
              </row>
              <row>
                <entry>enum34</entry>
                <entry>Backport of Python 3.4 Enum</entry>
              </row>
              <row>
                <entry>Funcsigs</entry>
                <entry>Python function signatures from PEP362</entry>
              </row>
              <row>
                <entry>functools32</entry>
                <entry>Backport of the <codeph>functools</codeph> module from Python 3.2.3</entry>
              </row>
              <row>
                <entry>funcy</entry>
                <entry>Functional tools focused on practicality</entry>
              </row>
              <row>
                <entry>future</entry>
                <entry>Compatibility layer between Python 2 and Python 3</entry>
              </row>
              <row>
                <entry>futures</entry>
                <entry>Backport of the <codeph>concurrent.futures</codeph> package from Python
                  3</entry>
              </row>
              <row>
                <entry colname="col1"> Gensim </entry>
                <entry colname="col2">Topic modeling and document indexing</entry>
              </row>
              <row>
                <entry>h5py</entry>
                <entry>Read and write HDF5 files</entry>
              </row>
              <row>
                <entry>idna</entry>
                <entry>Internationalized Domain Names in Applications (IDNA)</entry>
              </row>
              <row>
                <entry>importlib-metadata</entry>
                <entry>Read metadata from Python packages</entry>
              </row>
              <row>
                <entry>Jinja2</entry>
                <entry>Stand-alone template engine</entry>
              </row>
              <row>
                <entry>JMESPath</entry>
                <entry>JSON Matching Expressions</entry>
              </row>
              <row>
                <entry>Joblib</entry>
                <entry>Python functions as pipeline jobs</entry>
              </row>
              <row>
                <entry>jsonschema</entry>
                <entry>JSON Schema validation</entry>
              </row>
              <row>
                <entry colname="col1"> Keras (RHEL/CentOS 7 only) </entry>
                <entry colname="col2">Deep learning</entry>
              </row>
              <row>
                <entry>Keras Applications</entry>
                <entry>Reference implementations of popular deep learning models</entry>
              </row>
              <row>
                <entry>Keras Preprocessing</entry>
                <entry>Easy data preprocessing and data augmentation for deep learning
                  models</entry>
              </row>
              <row>
                <entry>Kiwi</entry>
                <entry>A fast implementation of the Cassowary constraint solver</entry>
              </row>
              <row>
                <entry colname="col1"> Lifelines </entry>
                <entry colname="col2">Survival analysis</entry>
              </row>
              <row>
                <entry colname="col1"> lxml </entry>
                <entry colname="col2">XML and HTML processing</entry>
              </row>
              <row>
                <entry>MarkupSafe</entry>
                <entry>Safely add untrusted strings to HTML/XML markup</entry>
              </row>
              <row>
                <entry>Matplotlib</entry>
                <entry>Python plotting package</entry>
              </row>
              <row>
                <entry>mock</entry>
                <entry>Rolling backport of <codeph>unittest.mock</codeph></entry>
              </row>
              <row>
                <entry>more-itertools</entry>
                <entry>More routines for operating on iterables, beyond itertools</entry>
              </row>
              <row>
                <entry>MurmurHash</entry>
                <entry>Cython bindings for MurmurHash</entry>
              </row>
              <row>
                <entry colname="col1"> NLTK </entry>
                <entry colname="col2">Natural language toolkit</entry>
              </row>
              <row>
                <entry>NumExpr</entry>
                <entry>Fast numerical expression evaluator for NumPy</entry>
              </row>
              <row>
                <entry colname="col1"> NumPy </entry>
                <entry colname="col2">Scientific computing</entry>
              </row>
              <row>
                <entry>packaging</entry>
                <entry>Core utilities for Python packages</entry>
              </row>
              <row>
                <entry colname="col1"> Pandas </entry>
                <entry colname="col2">Data analysis</entry>
              </row>
              <row>
                <entry>pathlib, pathlib2</entry>
                <entry>Object-oriented filesystem paths</entry>
              </row>
              <row>
                <entry>patsy</entry>
                <entry>Package for describing statistical models and for building design
                  matrices</entry>
              </row>
              <row>
                <entry colname="col1"> Pattern-en </entry>
                <entry colname="col2">Part-of-speech tagging</entry>
              </row>
              <row>
                <entry>pip</entry>
                <entry>Tool for installing Python packages</entry>
              </row>
              <row>
                <entry>plac</entry>
                <entry>Command line arguments parser</entry>
              </row>
              <row>
                <entry>pluggy</entry>
                <entry>Plugin and hook calling mechanisms</entry>
              </row>
              <row>
                <entry>preshed</entry>
                <entry>Cython hash table that trusts the keys are pre-hashed</entry>
              </row>
              <row>
                <entry>protobuf</entry>
                <entry>Protocol buffers</entry>
              </row>
              <row>
                <entry>py</entry>
                <entry>Cross-python path, ini-parsing, io, code, log facilities</entry>
              </row>
              <row>
                <entry colname="col1"> pyLDAvis </entry>
                <entry colname="col2">Interactive topic model visualization</entry>
              </row>
              <row>
                <entry colname="col1"> PyMC3 </entry>
                <entry colname="col2">Statistical modeling and probabilistic machine
                  learning</entry>
              </row>
              <row>
                <entry>pyparsing</entry>
                <entry>Python parsing</entry>
              </row>
              <row>
                <entry>pytest</entry>
                <entry>Testing framework</entry>
              </row>
              <row>
                <entry>python-dateutil</entry>
                <entry>Extensions to the standard Python datetime module</entry>
              </row>
              <row>
                <entry>pytz</entry>
                <entry>World timezone definitions, modern and historical</entry>
              </row>
              <row>
                <entry>PyYAML</entry>
                <entry>YAML parser and emitter</entry>
              </row>
              <row>
                <entry>requests</entry>
                <entry>HTTP library</entry>
              </row>
              <row>
                <entry>s3transfer</entry>
                <entry>Amazon S3 transfer manager</entry>
              </row>
              <row>
                <entry>scandir</entry>
                <entry>Directory iteration function</entry>
              </row>
              <row>
                <entry colname="col1"> scikit-learn </entry>
                <entry colname="col2">Machine learning data mining and analysis</entry>
              </row>
              <row>
                <entry colname="col1"> SciPy </entry>
                <entry colname="col2">Scientific computing</entry>
              </row>
              <row>
                <entry>setuptools</entry>
                <entry>Download, build, install, upgrade, and uninstall Python packages</entry>
              </row>
              <row>
                <entry>six</entry>
                <entry>Python 2 and 3 compatibility library</entry>
              </row>
              <row>
                <entry>smart-open</entry>
                <entry>Utilities for streaming large files (S3, HDFS, gzip, bz2, and so
                  forth)</entry>
              </row>
              <row>
                <entry colname="col1"> spaCy </entry>
                <entry colname="col2">Large scale natural language processing</entry>
              </row>
              <row>
                <entry>srsly</entry>
                <entry>Modern high-performance serialization utilities for Python</entry>
              </row>
              <row>
                <entry colname="col1"> StatsModels </entry>
                <entry colname="col2">Statistical modeling</entry>
              </row>
              <row>
                <entry>subprocess32</entry>
                <entry>Backport of the subprocess module from Python 3</entry>
              </row>
              <row>
                <entry colname="col1"> Tensorflow (RHEL/CentOS 7 only) </entry>
                <entry colname="col2">Numerical computation using data flow graphs</entry>
              </row>
              <row>
                <entry>Theano</entry>
                <entry>Optimizing compiler for evaluating mathematical expressions on CPUs and
                  GPUs</entry>
              </row>
              <row>
                <entry>thinc</entry>
                <entry>Practical Machine Learning for NLP</entry>
              </row>
              <row>
                <entry>tqdm</entry>
                <entry>Fast, extensible progress meter</entry>
              </row>
              <row>
                <entry>urllib3</entry>
                <entry>HTTP library with thread-safe connection pooling, file post, and more</entry>
              </row>
              <row>
                <entry>wasabi</entry>
                <entry>Lightweight console printing and formatting toolkit</entry>
              </row>
              <row>
                <entry>wcwidth</entry>
                <entry>Measures number of Terminal column cells of wide-character codes</entry>
              </row>
              <row>
                <entry>Werkzeug</entry>
                <entry>Comprehensive WSGI web application library</entry>
              </row>
              <row>
                <entry>wheel</entry>
                <entry>A built-package format for Python</entry>
              </row>
              <row>
                <entry colname="col1"> XGBoost </entry>
                <entry colname="col2">Gradient boosting, classifying, ranking </entry>
              </row>
              <row>
                <entry>zipp</entry>
                <entry>Backport of pathlib-compatible object wrapper for zip files</entry>
              </row>
            </tbody>
          </tgroup>
        </table></p>
    </body>
  </topic>
  <topic id="topic_instpdsm" xml:lang="en">
    <title>Installing the Python Data Science Module Package</title>
    <body>
      <p>Before you install the Python Data Science Module package, make sure that your Greenplum
        Database is running, you have sourced <codeph>greenplum_path.sh</codeph>, and that the
          <codeph>$MASTER_DATA_DIRECTORY</codeph> and <codeph>$GPHOME</codeph> environment variables
        are set.</p>
      <note>The <codeph>PyMC3</codeph> module depends on <codeph>Tk</codeph>. If you want to use
          <codeph>PyMC3</codeph>, you must install the <codeph>tk</codeph> OS package on every node
        in your cluster. For example: <codeblock>$ yum install tk
</codeblock></note>
      <ol>
        <li>Locate the Python Data Science module package that you built or downloaded.<p>The file
            name format of the package is
              <codeph>DataSciencePython-&lt;version&gt;-relhel&lt;N&gt;-x86_64.gppkg</codeph>.</p></li>
        <li>Copy the package to the Greenplum Database master host.</li>
        <li>Use the <codeph>gppkg</codeph> command to install the package. For
              example:<codeblock>$ gppkg -i DataSciencePython-&lt;version&gt;-relhel&lt;N&gt;_x86_64.gppkg</codeblock><p><codeph>gppkg</codeph>
            installs the Python Data Science modules on all nodes in your Greenplum Database
            cluster. The command also updates the <codeph>PYTHONPATH</codeph>,
            <codeph>PATH</codeph>, and <codeph>LD_LIBRARY_PATH</codeph> environment variables in
            your <codeph>greenplum_path.sh</codeph> file.</p></li>
        <li>Restart Greenplum Database. You must re-source <codeph>greenplum_path.sh</codeph> before
          restarting your Greenplum
          cluster:<codeblock>$ source /usr/local/greenplum-db/greenplum_path.sh
$ gpstop -r</codeblock></li>
      </ol>
      <p>The Greenplum Database Python Data Science Modules are installed in the following
        directory:</p>
      <codeblock>$GPHOME/ext/DataSciencePython/lib/python2.7/site-packages/</codeblock>
    </body>
  </topic>
  <topic id="topic_removepdsm" xml:lang="en">
    <title>Uninstalling the Python Data Science Module Package</title>
    <body>
      <p>Use the <codeph>gppkg</codeph> utility to uninstall the Python Data Science Module package.
        You must include the version number in the package name you provide to
          <codeph>gppkg</codeph>.</p>
      <p> To determine your Python Data Science Module package version number and remove this
        package:</p>
      <codeblock>$ gppkg -q --all | grep DataSciencePython
DataSciencePython-&lt;version&gt;
$ gppkg -r DataSciencePython-&lt;version&gt;</codeblock>
      <p>The command removes the Python Data Science modules from your Greenplum Database cluster.
        It also updates the <codeph>PYTHONPATH</codeph>, <codeph>PATH</codeph>, and
          <codeph>LD_LIBRARY_PATH</codeph> environment variables in your
          <codeph>greenplum_path.sh</codeph> file to their pre-installation values.</p>
      <p>Re-source <codeph>greenplum_path.sh</codeph> and restart Greenplum Database after you
        remove the Python Data Science Module package:</p>
      <codeblock>$ . /usr/local/greenplum-db/greenplum_path.sh
$ gpstop -r </codeblock>
      <note>When you uninstall the Python Data Science Module package from your Greenplum Database
        cluster, any UDFs that you have created that import Python modules installed with this
        package will return an error.</note>
    </body>
  </topic>
</topic>
